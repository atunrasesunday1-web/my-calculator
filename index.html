        }

        function runAI() {
            const msg = new SpeechSynthesisUtterance("Analysis confirmed. Processing data.");
            window.speechSynthesis.speak(msg);
            vib(100);
        }

        function startVoice() {
            const Rec = window.SpeechRecognition || window.webkitSpeechRecognition;
            if(!Rec) return;
            const r = new Rec();
            r.start();
            r.onresult = (e) => {
                let t = e.results[0][0].transcript.toLowerCase();
                input = eval(t.replace(/plus/g,'+').replace(/minus/g,'-').replace(/times/g,'*').replace(/[^-()\d/*+.]/g, '')).toString();
                update();
            };
        }
    </script>
</body>
</html>
